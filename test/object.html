<!DOCTYPE html>
<html ng-app='app'>
  <head>
    <title>Bi-Directional Binding Demo</title>
    <link href="../bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="../bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
    <link rel='import' href='../components/name-object/name-object.html' />
  </head>
  <body>
    <div class="container" ng-controller="MyController as my">
      <div class="row">
        <h1>Demo</h1>
        <div>
          <button class="btn" ng-click="my.doStuff()">Button</button>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-4 angular">
          <ng-name-object name="my.obj"></ng-name-object>
        </div>
        <div class="col-xs-4 polymer-fixed">
          <name-object bind-ce ce-name="my.obj"></name-object>
        </div>
      </div>
    </div>
    <script src="../bower_components/angular/angular.min.js"></script>
    <script src="../bindCustomElement.js"></script>
    <script>
    angular
    .module('app', ['bgotink.customElements'])
    .directive('ngNameObject', [function () {
      return {
        restrict: 'E',
        template: '<p>{{value.first}} {{value.last}}</p>',
        scope: {
          value: '=name',
        },
      };
    }])
    .controller('MyController', [ '$scope', function ($scope) {
      var first = 'FirstName';
      var last = 'LastName';

      var inverted = false;

      this.doStuff = function () {
        if (inverted) {
          this.obj = {
            first: first,
            last: last,
          };
          inverted = false;
        } else {
          this.obj = {
            last: first,
            first: last,
          };
          inverted = true;
        }
      }

      this.obj = {
        first: first,
        last: last,
      };

    }]);
    </script>
  </body>
</html>
