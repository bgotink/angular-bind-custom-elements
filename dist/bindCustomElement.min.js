!function(n,e){"function"==typeof define&&define.amd?define(["angular"],e):"object"==typeof exports?module.exports=e(require("angular")):n.returnExports=e(n.angular)}(this,function(n){"use strict";function e(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}return n.module("bgotink.customElements",[]).directive("bindCe",["$parse","$interpolate",function(t,r){function i(e,t,r,i){n.isArray(i)?i=i.slice(0):n.isObject(i)&&(i=Object.assign({},i)),r in e?e[r]=i:e.setAttribute(t,i)}function a(n,e,t){return t in n?n[t]:n.getAttribute(e)}function o(n){return n.replace(/[A-Z]/,function(n){return"-"+n.toLowerCase()})}return{restrict:"A",scope:!1,priority:500,terminal:!0,transclude:"element",compile:function(s,u){var c={};for(var l in u)if(u.hasOwnProperty(l)&&l.match(/^ce[A-Z]/)){var f=u[l];s.attr(o(l),null),l=l.charAt(2).toLowerCase()+l.slice(3);var d=f.match(/\{\{\s*[\.\w]+\s*\}\}/);d?c[l]=r(f):c[l]=t(f)}return function(t,r,s,u,l){function f(i){var o=i.type.substring(0,i.type.lastIndexOf("-changed")),u=s.$normalize(o);if(console.log("listen "+u),u in c){var l=i.detail.value;if(i.detail.path&&(l=a(r[0],o,u)),d[u])return void(d[u]={newValue:l});var f=c[u],v=f.assign;d[u]={newValue:l},t.$evalAsync(function(){var r=f(t),i=d[u].newValue;d[u]=null,n.equals(r,i)||(n.isArray(r)?(r.length=0,r.push.apply(r,e(i))):n.isObject(r)?Object.assign(r,i):v(t,i))})}}var d=Object.create(null),v=function(e){var s=c[e],u=s.assign||n.noop,l=o(e);t.$watch(s,function(o,s){console.log("watch "+e);var c=o===s,f=a(r[0],l,e);return c&&n.isUndefined(o)&&!n.isUndefined(f)?void u(t,f):void(n.equals(o,f)||i(r[0],l,e,o))},!0)};for(var g in c)v(g);var p=l(t);r.replaceWith(p),r=p;for(var h in c)n.isFunction(c[h].assign)&&r.on(o(h)+"-changed",f);t.$on("$destroy",function(){for(var n in c)r.off(o(n)+"-changed",f)})}}}}]),"bgotink.customElements"});